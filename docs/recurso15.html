<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Métodos y Simulación Estadística" />


<title> Transformación de datos</title>

<script src="site_libs/header-attrs-2.25/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-6.4.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>






<link rel="stylesheet" href="style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"> </a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Métodos
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Conceptos básicos
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="recurso10.html">Conceptos Básicos</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="recurso11.html">Conceptos</a>
    </li>
    <li>
      <a href="recurso12.html">Importar datos</a>
    </li>
    <li>
      <a href="recurso13.html">Ordenar y limpiar datos</a>
    </li>
    <li>
      <a href="recurso14.html">Fusión de datos</a>
    </li>
    <li>
      <a href="recurso15.html">Estandarización - Normalización</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Análisis de datos
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="recurso20.html">Análisis de datos</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="recurso21.html">Tablas de frecuencia</a>
    </li>
    <li>
      <a href="recurso22.html">Indicadores de posición</a>
    </li>
    <li>
      <a href="recurso23.html">Indicadores de centro</a>
    </li>
    <li>
      <a href="recurso24.html">Indicadores de disperción</a>
    </li>
    <li>
      <a href="recurso25.html">Indicadores de forma</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Visualización de datos
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="recurso30.html">Visualización</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="recurso31.html">Visualización variables cualitativas</a>
    </li>
    <li>
      <a href="recurso32.html">Visualización variables cuantitativas</a>
    </li>
    <li>
      <a href="recurso33.html">Visualización multivariada</a>
    </li>
    <li>
      <a href="recurso34.html">Parámetros de gráficos</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Software R
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="recurso40.html">Introducción a R</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="recurso41.html">Objetos en R</a>
    </li>
    <li>
      <a href="recurso42.html">Referencias</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore"><span style="color:#034a94">
<strong>Transformación de datos</strong></span></h1>
<h4 class="author">Métodos y Simulación Estadística</h4>

</div>


<p><br/></p>
<p>Una de las etapas importantes dentro del ciclo de datos corresponde a
la transformación de las variables. Dentro de los procesos más
importantes en este aspecto están :</p>
<ul>
<li>Construcción de nuevas variables</li>
<li>Estantarización de variables</li>
<li>Normalización de variables</li>
</ul>
<p><br/></p>
<p>Para presentar estos procesos se utiliza la data
<code>rotación</code> contenida en <code>paqueteMETODOS</code>,
iniciando con su importación y descripción:</p>
<pre class="r"><code>library(dplyr)
data(rotacion)
set.seed(123)
datos &lt;- sample_n(rotacion, 1000)
# variables &lt;- c(&quot;Edad&quot;, &quot;Antigüedad&quot;, &quot;Antigüedad_Cargo&quot;, &quot;Años_ultima_promoción&quot;, &quot;Años_acargo_con_mismo_jefe&quot;)
datos = datos[, c(2,18,21,22,23,24)] # se seleccionan variables de interes para facilitar su visualizacion
str(datos) # Muestra los datos originales</code></pre>
<pre><code>tibble [1,000 × 6] (S3: tbl_df/tbl/data.frame)
 $ Edad                      : num [1:1000] 24 34 46 24 45 39 30 46 34 34 ...
 $ Años_Experiencia          : num [1:1000] 6 10 24 4 22 21 6 12 6 15 ...
 $ Antigüedad                : num [1:1000] 5 10 24 2 20 19 6 9 5 15 ...
 $ Antigüedad_Cargo          : num [1:1000] 3 7 13 2 8 9 4 8 0 14 ...
 $ Años_ultima_promoción     : num [1:1000] 1 5 15 2 11 15 1 4 1 0 ...
 $ Años_acargo_con_mismo_jefe: num [1:1000] 4 7 7 0 8 2 1 7 2 7 ...</code></pre>
<p><br/><br/></p>
<div id="construcción-de-variables" class="section level2">
<h2><span style="color:#034a94"> <strong>Construcción de
variables</strong></span></h2>
<p>Es usual que se requiera construir variables a partir de las
variables existente en la data. Este proceso se puede realizar de dos
formas:</p>
<ul>
<li>Utilizando la transformación directamente</li>
<li>Utilizando la función <code>mutate</code> del paquete
<code>dplyr</code></li>
</ul>
<p><br/><br/></p>
<div id="ejemplo" class="section level3">
<h3><span style="color:#FF7F00"> <strong>Ejemplo</strong> </span></h3>
<p>Supongamos que se desea contruir un indicador de razón que involucre
las variables Años de Experiencia y Antigüedad</p>
<p><span class="math display">\[\text{Indicador} =
\dfrac{\text{Antigüedad}}{\text{Años de Experiencia}}\]</span> Este
indicador podrá suministra información sobre si el empleado ha sido
contratado con experiencia previa o si por el contrario se ha adquirido
su experiencia en la empresa.</p>
<p><br/></p>
<p><strong>Transformación directa</strong></p>
<pre class="r"><code>datos$Indicador1 = datos$Antigüedad/datos$Años_Experiencia
str(datos) </code></pre>
<pre><code>tibble [1,000 × 7] (S3: tbl_df/tbl/data.frame)
 $ Edad                      : num [1:1000] 24 34 46 24 45 39 30 46 34 34 ...
 $ Años_Experiencia          : num [1:1000] 6 10 24 4 22 21 6 12 6 15 ...
 $ Antigüedad                : num [1:1000] 5 10 24 2 20 19 6 9 5 15 ...
 $ Antigüedad_Cargo          : num [1:1000] 3 7 13 2 8 9 4 8 0 14 ...
 $ Años_ultima_promoción     : num [1:1000] 1 5 15 2 11 15 1 4 1 0 ...
 $ Años_acargo_con_mismo_jefe: num [1:1000] 4 7 7 0 8 2 1 7 2 7 ...
 $ Indicador1                : num [1:1000] 0.833 1 1 0.5 0.909 ...</code></pre>
<p><br/></p>
<p><strong>Transformacion utilizando la función mutate del paquete
dplyr</strong></p>
<pre class="r"><code>datos &lt;- mutate(datos, Indicador2 = Antigüedad / Años_Experiencia)
str(datos) # Muestra los datos originales</code></pre>
<pre><code>tibble [1,000 × 8] (S3: tbl_df/tbl/data.frame)
 $ Edad                      : num [1:1000] 24 34 46 24 45 39 30 46 34 34 ...
 $ Años_Experiencia          : num [1:1000] 6 10 24 4 22 21 6 12 6 15 ...
 $ Antigüedad                : num [1:1000] 5 10 24 2 20 19 6 9 5 15 ...
 $ Antigüedad_Cargo          : num [1:1000] 3 7 13 2 8 9 4 8 0 14 ...
 $ Años_ultima_promoción     : num [1:1000] 1 5 15 2 11 15 1 4 1 0 ...
 $ Años_acargo_con_mismo_jefe: num [1:1000] 4 7 7 0 8 2 1 7 2 7 ...
 $ Indicador1                : num [1:1000] 0.833 1 1 0.5 0.909 ...
 $ Indicador2                : num [1:1000] 0.833 1 1 0.5 0.909 ...</code></pre>
<p><br/></p>
<p>Otra de las transformaciones importantes en el análisis de datos
corresponde a la <strong>estandarización</strong> y la
<strong>normalización</strong> de las variables, las cuales permiten el
cambio de escala, permitiendo realizar comparaciones.</p>
<p><br/><br/></p>
</div>
</div>
<div id="estandarización" class="section level2">
<h2><span style="color:#034a94">
<strong>Estandarización</strong></span></h2>
<p>Consiste en restar a la media de una variable a todos sus valores y
dividiendo este resultado por su desviación estándar. Esta
transformación hace que la nueva variable tenga media cero y varianza
uno. El procedimiento permite ajustar la escala de varias variables y se
aplica cuando estas presentan distribuciones simétricas.</p>
<p><span class="math display">\[X_{\text{estandarizada}} = \dfrac{X-
\text{media}(x)}{\text{desviación estandar}(x)}\]</span></p>
<p><br/></p>
<div id="ejemplo-1" class="section level3">
<h3><span style="color:#FF7F00"> <strong>Ejemplo</strong> </span></h3>
<pre class="r"><code>datos &lt;- sample_n(rotacion, 1000)
datos$Edad_estandarizada1 = (datos$Edad - mean(datos$Edad))/sd(datos$Edad)
datos$Edad_estandarizada2 = scale(datos$Edad)
str(datos[,c(2,25,26)]) </code></pre>
<pre><code>tibble [1,000 × 3] (S3: tbl_df/tbl/data.frame)
 $ Edad               : num [1:1000] 40 54 40 55 34 30 46 26 36 45 ...
 $ Edad_estandarizada1: num [1:1000] 0.321 1.87 0.321 1.981 -0.343 ...
 $ Edad_estandarizada2: num [1:1000, 1] 0.321 1.87 0.321 1.981 -0.343 ...
  ..- attr(*, &quot;scaled:center&quot;)= num 37.1
  ..- attr(*, &quot;scaled:scale&quot;)= num 9.04</code></pre>
<pre class="r"><code>summarytools::descr(datos[,c(2,25,26)])</code></pre>
<pre><code>Descriptive Statistics  

                       Edad    Edad_estandarizada1    Edad_estandarizada2
----------------- --------- ---------------------- ----------------------
             Mean     37.10                   0.00                   0.00
          Std.Dev      9.04                   1.00                   1.00
              Min     18.00                  -2.11                  -2.11
               Q1     31.00                  -0.68                  -0.68
           Median     36.00                  -0.12                  -0.12
               Q3     43.00                   0.65                   0.65
              Max     60.00                   2.53                   2.53
              MAD      8.90                   0.98                   0.98
              IQR     12.00                   1.33                   1.33
               CV      0.24   -5784092685267730.00   -5784092685267730.00
         Skewness      0.36                   0.36                   0.36
      SE.Skewness      0.08                   0.08                   0.08
         Kurtosis     -0.40                  -0.40                  -0.40
          N.Valid   1000.00                1000.00                1000.00
        Pct.Valid    100.00                 100.00                 100.00</code></pre>
<p><br/></p>
<p>La estandarización en el contexto de la limpieza y ajuste de datos en
ciencia de datos se refiere al proceso de transformar las variables para
que tengan una media de cero y una desviación estándar de uno. Este paso
es comúnmente realizado para asegurar que las variables tengan escalas
comparables y para facilitar la interpretación y el análisis de los
modelos. Este procedimiento también se conoce con los nombres de
<strong>z-score normalization</strong> o <strong>z-score
scaling</strong>.</p>
<p><br/><br/></p>
</div>
</div>
<div id="normalización" class="section level2">
<h2><span style="color:#034a94">
<strong>Normalización</strong></span></h2>
<p>Esta transformación escala los valores de una variable a un rango
específico, por defecto el rango es [0,1]. Se presenta cuando las
variables no siguen una distribución normal, haciendo que las variable
tengan el mismo rango. Tambien se conoce con el nombre de
<strong>min-max scaling</strong>.</p>
<p><br/></p>
<p><strong>Normalización manual</strong></p>
<p>Para realizar la transformación de manera manual debemos de contar
con :</p>
<ul>
<li>valor mínimo de la variable</li>
<li>valor máximo de la variable</li>
</ul>
<p><span class="math display">\[X_{\text{normalizada}} = \dfrac{X -
\min(x)}{(\max(x)-\min(x))} \]</span> <br/></p>
<div id="ejemplo-2" class="section level3">
<h3><span style="color:#FF7F00"> <strong>Ejemplo</strong> </span></h3>
<p><strong>Normalización utilizando la función rescale del paquete
scales</strong></p>
<pre class="r"><code>datos &lt;- sample_n(rotacion, 1000)

datos$Edad_normalizada1 = (datos$Edad - min(datos$Edad))/(max(datos$Edad)-min(datos$Edad))

library(scales)
datos$Edad_normalizada2 = rescale(datos$Edad, to =c(0,1))


str(datos[,c(2,25, 26)])</code></pre>
<pre><code>tibble [1,000 × 3] (S3: tbl_df/tbl/data.frame)
 $ Edad             : num [1:1000] 20 37 47 49 33 30 41 36 29 38 ...
 $ Edad_normalizada1: num [1:1000] 0.0476 0.4524 0.6905 0.7381 0.3571 ...
 $ Edad_normalizada2: num [1:1000] 0.0476 0.4524 0.6905 0.7381 0.3571 ...</code></pre>
<pre class="r"><code>summarytools::descr(datos[,c(2,25,26)])</code></pre>
<pre><code>Descriptive Statistics  

                       Edad   Edad_normalizada1   Edad_normalizada2
----------------- --------- ------------------- -------------------
             Mean     36.91                0.45                0.45
          Std.Dev      9.04                0.22                0.22
              Min     18.00                0.00                0.00
               Q1     30.00                0.29                0.29
           Median     36.00                0.43                0.43
               Q3     42.50                0.58                0.58
              Max     60.00                1.00                1.00
              MAD      8.90                0.21                0.21
              IQR     12.25                0.29                0.29
               CV      0.24                0.48                0.48
         Skewness      0.43                0.43                0.43
      SE.Skewness      0.08                0.08                0.08
         Kurtosis     -0.34               -0.34               -0.34
          N.Valid   1000.00             1000.00             1000.00
        Pct.Valid    100.00              100.00              100.00</code></pre>
<p><br/><br/></p>
</div>
<div id="nota" class="section level3 content-box-gray">
<h3><span style="color:#686868"> <strong>Nota</strong> </span></h3>
<p>En Ciencia de Datos puede ser necesario realizar transformación de
las variables como la estandarización o la normalización dependiendo
algunos requerimientos específicos del proceso de modelamiento
algoritmos utilizados</p>
<p>En el caso de algoritmos relacionados con aprendizaje automático,
regresión lineal o en casos donde se requiera la comparación de los
resultados, será necesario realizar procesos de estandarización (pasar a
media cero y varianza uno).</p>
<p>En el caso de algunos algoritmos de redes neuronales, puede ser
necesario que los datos originales se distribuyan en el mismo rango o en
el caso de mejorar la velocidad de convergencia de uno de los métodos de
optimizan será necesario realizar normalización de las variables (una
misma escala con el mismo rango)</p>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
